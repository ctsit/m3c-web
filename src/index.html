<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>M3C People Portal</title>

    <!-- Font Awesome for neat icons. -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    <!-- Roboto font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="m3c.css" />

    <!-- Promise polyfill to support Internet Explorer -->
    <script crossorigin src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"></script>
    <!-- Fetch polyfill to support Internet Explorer -->
    <script crossorigin src="https://unpkg.com/whatwg-fetch@3.0.0/dist/fetch.umd.js"></script>
    <!-- URL polyfill to support Internet Explorer -->
    <script crossorigin src="https://unpkg.com/@ungap/url-search-params@0.1.2/min.js"></script>

    <style>
        #links {
            display: table;
            text-align: center;
            width: 100%;
        }

        #links li {
            min-width: 9em;
            display: inline-block;
            padding: 2em 1em;
            text-align: center;
            background: white;
            margin: 1em 0.3em;
            border-radius: 50%;
        }

        #links li,
        .visuals div {
            box-shadow: 3px 4px 5px gray;
        }

        .count {
            font-size: smaller;
            display: block;
        }

        .hero {
            width: 100%;
            padding: 1em;
            min-height: 2.5em;
            text-align: center;
            background: rgba(0, 169, 224, 0.4);
        }

        .hero-item,
        .hero-item:visited {
            box-shadow: 3px 4px 5px rgba(0, 169, 224, 0.9);
            background: white;
            padding: 2em;
            width: 80%;
            margin: auto;
        }

        .hero-item {
            width: 80%;
            max-width: 1200px;
            display: grid;
            grid-template-columns: 2fr 5fr;
        }

        .hero-item.person a {
            justify-self: end;
            padding-right: 1em;
        }

        .hero-item.person img.photo {
            border-radius: 50%;
            border: 5px solid white;
            box-shadow: 0 0 3px gray;
            max-width: 300px;
            height: 200px;
        }

        .hero-item.person p {
            align-self: center;
            text-align: justify;
        }

        .visuals {
            margin: auto;
            margin-top: 1em;
            display: -ms-grid;
            display: grid;
            -ms-grid-columns: 1fr 1fr 1fr;
            grid-template-columns: repeat(auto-fit, 320px);
            /* grid-template-columns: 1fr 1fr 1fr; */
            grid-gap: 1em;
            width: 95%;
            justify-content: center;
            justify-items: stretch;
        }

        .visuals div {
            text-align: center;
            background: white;
            min-height: 200px;
            padding: 1em;
        }

        .visuals .wordcloud { -ms-grid-column: 1 }
        .visuals .graph     { -ms-grid-column: 2 }
        .visuals .about     { -ms-grid-column: 3 }

        .visuals div img {
            width: 100%;
            height: auto;
        }

        .wordcloud img {
            padding-top: 1.5em;
        }

        .about p {
            text-align: left;
            padding: 0 1em;
        }

        .spotlight {
            display: block;
            font-size: larger;
            text-shadow: 1px 1px 3px gray;
            font-weight: 300;
            margin-top: -1em;
            margin-bottom: 1em;
        }

        h3 {
            text-shadow: 1px 1px 3px gray;
            font-weight: 300;
            margin: 0.5em auto;
        }

        @media only screen and (max-width: 800px) {
            .hero {
                padding: 1% 0;
            }

            .hero-item {
                grid-template-columns: unset;
                width: 98%;
            }

            .hero-item.person a {
                justify-self: center;
                padding-right: 0;
            }

            .hero-item.person p {
                text-align: left;
                padding: 0;
            }

            .spotlight {
                text-align: center;
                margin-top: 0;
            }
        }


        @media only screen and (max-width: 690px) {
           .wordcloud img {
               padding-top: 0.5em;
           }
        }
    </style>

</head>

<body class="dashboard">

    <div class="container">

        <header>
            <a href="https://metabolomics.info/">
                <img alt="Metabolomics Info logo"
                    src="https://i2.wp.com/metabolomics.info/wp-content/uploads/2018/10/sepcc-logo-75.png?fit=60%2C60&ssl=1"
                    width=60 height=60>
                <div class="text">
                    <h1>Metabolomics Info</h1>
                    <p>Facilitating science through community</p>
                </div>
            </a>
            <div class="spacer"></div>
            <a href="index.html" class="dashboard-link">
                <h2>People Portal</h2>
            </a>
        </header>

        <div class="page">

            <div class="hero">
                <div class="hero-item person">
                    <a class="photo-frame" data-iri="https://vivo.metabolomics.info/individual/160"
                        href="people.html?iri=https://vivo.metabolomics.info/individual/160">
                        <img class="photo" alt="Rick Yost" src="https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png" />
                        <div class="name">Rick Yost</div>
                    </a>

                    <p class="about">
                        <span class="spotlight">Spotlight</span>
                        <strong>Dr. Richard A. Yost</strong> is the Robin and
                        Jean Gibson Professor, College of Liberal Arts &amp;
                        Sciences, and Professor and Head of Analytical Chemistry
                        at the University of Florida. He currently serves on the
                        Florida Board of Governors for the statewide university
                        system and is Chair of the Advisory Council of Faculty
                        Senates of Florida. He is past Chair of the UF Faculty
                        Senate and has served on the UF Board of Trustees. His
                        research is in Analytical Chemistry and Mass
                        Spectrometry, with specializationsin trace biomedical
                        analysis, imaging, and metabolomics.
                    </p>
                </div>
            </div>

            <div class="visuals">
                <div class="wordcloud">
                    <img src="wordcloud.gif" alt="Word Cloud showing common terms relating to Metabolomics" />
                </div>
                <div class="graph">
                    <a href="projects_by_year.png">
                        <img src="projects_by_year.png" alt="Graph showing the number of projects by year" />
                    </a>
                </div>
                <div class="about">
                    <h3>About</h3>
                    <p>
                        The Metabolomics Info People Portal is a service of the
                        <a href="https://metabolomics.info">Metabolomics Consortium Coordinating Center</a>.
                    </p>
                    <p>
                        Grant <a href="https://projectreporter.nih.gov/project_info_description.cfm?aid=9589555"
                            target="_blank" rel="noopener noreferrer">1U2CDK119889-01</a>
                        of the <a href="https://commonfund.nih.gov/metabolomics" target="_blank"
                            rel="noopener noreferrer">NIH
                            Common Fund Metabolomics Program</a>.
                    </p>
                </div>
            </div>

            <nav>
                <ul id="links">
                    <li class="People">
                        <a href="people.html">
                            People
                            <span class="count"></span>
                        </a>
                    </li>
                    <li class="Publications">
                        <a href="people.html">
                            Publications
                            <span class="count"></span>
                        </a>
                    </li>
                    <li class="Projects">
                        <a href="people.html">
                            Projects
                            <span class="count"></span>
                        </a>
                    </li>
                    <li class="Studies">
                        <a href="people.html">
                            Studies
                            <span class="count"></span>
                        </a>
                    </li>
                    <li class="Organizations">
                        <a href="people.html">
                            Organizations
                            <span class="count"></span>
                        </a>
                    </li>
                    <li class="Tools">
                        <a href="people.html">
                            Tools
                            <span class="count"></span>
                        </a>
                    </li>
                </ul>
            </nav>

        </div> <!-- div.page -->

        <footer>
            <p>
                Metabolomics Info is an outreach portal to support the
                Metabolomics community.
            </p>
            <p>
                © 2019 Metabolomics&nbsp;Consortium Coordinating&nbsp;Center
            </p>
        </footer>

        <!-- The order is important. -->
        <script src="tpf.js"></script>
        <script src="str.js"></script>
        <script src="m3c.js"></script>
        <script src="entity.js"></script>

        <script>
            const client = m3c.NewTPFClient()
            const links = document.getElementById("links")
            const items = links.querySelectorAll("li")
            for (var i = 0; i < items.length; i++) {
                addLink(items[i])
            }

            const featuredPersonLink = document.querySelector(".hero-item.person a")
            const featuredPersonIRI = featuredPersonLink.getAttribute("data-iri")
            featuredPersonLink.href = m3c.ProfileLink("person", featuredPersonIRI)

            const person = entity.Person(client, featuredPersonIRI)
            person.Photo(renderPhoto)

            function addLink(li) {
                const concept = li.className
                const lowered = concept.toLowerCase()
                const type = m3c.IRIFor(concept)

                m3c.Count(client, type, renderCount)

                function renderCount(count) {
                    li.querySelector("a").href = m3c.ListingLink(lowered)
                    li.querySelector(".count").innerText = count
                }
            }

            function renderPhoto(url) {
                featuredPersonLink.querySelector(".photo").src =
                    m3c.PhotoURL(client.Endpoint, url)
            }
        </script>

    </div> <!-- div.container -->
</body>

</html>
